document.addEventListener("DOMContentLoaded",function(){let o=document.getElementById("contactForm"),n=document.getElementById("popup"),r=o.querySelector('button[type="submit"]'),s=r.querySelector(".send-text"),a=r.querySelector(".spinner-border");function c(e,t){n.innerHTML=`
            <div class="popup-content">
                <p>${e}</p>
                <button onclick="closePopup()">Close</button>
            </div>
        `,n.style.backgroundColor="error"===t?"rgba(220, 53, 69, 0.9)":"rgba(138, 43, 226, 0.9)",n.classList.add("show"),setTimeout(()=>{n.classList.remove("show")},5e3)}o.addEventListener("submit",async e=>{e.preventDefault(),r.disabled=!0,s.textContent="Sending...",a.classList.remove("d-none");e=new FormData(o);try{var t=await fetch("https://portfolio-899j.onrender.com/contact",{method:"POST",body:e});t.ok?(c("Thank you for reaching out! I'll get back to you soon.","success"),o.reset()):c(await t.text()||"Something went wrong. Please try again.","error")}catch(e){console.error(e),c("Network error. Please check your connection and try again.","error")}finally{r.disabled=!1,s.textContent="Send Message",a.classList.add("d-none")}}),window.closePopup=function(){n.classList.remove("show"),n.style.backgroundColor="rgba(138, 43, 226, 0.9)"}});